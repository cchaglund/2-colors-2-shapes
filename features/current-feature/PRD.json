[
  {
    "id": "GALLERY-001",
    "category": "URL Routing",
    "description": "Add getGalleryView() parser to urlParams.ts that reads ?view=gallery&tab={tab} and returns { tab?: string } or null",
    "steps_to_verify": [
      "Navigate to /?view=gallery — getGalleryView() returns { tab: undefined }",
      "Navigate to /?view=gallery&tab=wall — getGalleryView() returns { tab: 'wall' }",
      "Navigate to /?view=submission&id=x — getGalleryView() returns null",
      "Navigate to / with no params — getGalleryView() returns null"
    ],
    "passes": true
  },
  {
    "id": "GALLERY-002",
    "category": "Page Component",
    "description": "Create GalleryPage.tsx as a full-page component (no modal overlay) with: back-to-app link, CalendarViewToggle tabs, tab content (calendar grid for my-submissions/winners, WallContent/FriendsFeedContent for wall/friends), and CalendarStats footer",
    "steps_to_verify": [
      "GalleryPage renders as a full page — no fixed overlay, no backdrop, no click-to-close, no escape-to-close",
      "All 4 tabs render: my-submissions, winners, wall, friends",
      "CalendarViewToggle switches between tabs",
      "CalendarStats footer is visible",
      "Back-to-app link is present and follows existing page pattern"
    ],
    "passes": true
  },
  {
    "id": "GALLERY-003",
    "category": "Navigation",
    "description": "Tab prop from URL determines initial active tab. Tab state managed internally via React state. Switching tabs updates the URL via history.replaceState() (no full page reload). Tab switching does NOT go through App.tsx — GalleryPage owns its own tab state.",
    "steps_to_verify": [
      "Navigate to /?view=gallery&tab=wall — wall tab is active on load",
      "Navigate to /?view=gallery&tab=friends — friends tab is active on load",
      "Navigate to /?view=gallery (no tab) — defaults to my-submissions if logged in, winners if not",
      "Click a different tab — URL updates to reflect the new tab without full page reload"
    ],
    "passes": false
  },
  {
    "id": "GALLERY-004",
    "category": "Navigation",
    "description": "Thumbnail clicks in all tabs navigate in the same tab (not new tab). Use <a href> tags (not onClick + window.location.href) so Ctrl/Cmd+click opens in new tab. My Submissions day click → ?view=submission&date=..., Winners day click → ?view=winners-day&date=..., Wall/Friends thumbnail click → ?view=submission&id=... Do NOT pass onSubmissionClick to WallContent/FriendsFeedContent — their default window.location.href behavior is correct.",
    "steps_to_verify": [
      "My Submissions tab: click a day cell → navigates to ?view=submission&date=... in same tab",
      "Winners tab: click a day cell → navigates to ?view=winners-day&date=... in same tab",
      "Wall tab: click a thumbnail → navigates to ?view=submission&id=... in same tab",
      "Friends tab: click a thumbnail → navigates to ?view=submission&id=... in same tab",
      "No new tabs are opened from any gallery interaction"
    ],
    "passes": false
  },
  {
    "id": "GALLERY-005",
    "category": "Navigation",
    "description": "Browser back button returns to gallery at the correct tab after navigating to a submission or winners-day page from the gallery",
    "steps_to_verify": [
      "From gallery wall tab, click thumbnail → submission page loads → press browser back → returns to gallery with wall tab active",
      "From gallery winners tab, click day → winners-day page loads → press browser back → returns to gallery with winners tab active"
    ],
    "passes": false
  },
  {
    "id": "GALLERY-006",
    "category": "Navigation",
    "description": "Back-to-app link from GalleryPage navigates back to the canvas (root /)",
    "steps_to_verify": [
      "Click 'Back to app' link on GalleryPage → navigates to / (canvas view)",
      "Link follows the same pattern as other standalone pages"
    ],
    "passes": false
  },
  {
    "id": "GALLERY-007",
    "category": "App Routing",
    "description": "App.tsx detects galleryView via getGalleryView() and renders GalleryPage in the standalone pages section. GalleryPage does not require challenge data to render.",
    "steps_to_verify": [
      "Navigate to /?view=gallery — GalleryPage renders (not the canvas)",
      "GalleryPage renders before challenge data loads (placed in early return section of App.tsx)"
    ],
    "passes": true
  },
  {
    "id": "GALLERY-008",
    "category": "Toolbar",
    "description": "Gallery button in Toolbar navigates to /?view=gallery instead of opening a modal. Remove login gate — gallery is accessible to all users.",
    "steps_to_verify": [
      "Click Gallery button in toolbar → navigates to /?view=gallery (no modal appears)",
      "Gallery button works when logged out — no login prompt",
      "onOpenCalendar prop is removed from Toolbar interface"
    ],
    "passes": false
  },
  {
    "id": "GALLERY-009",
    "category": "Auth",
    "description": "Non-logged-in users can access gallery. Winners and wall tabs work without auth. My-submissions and friends tabs are disabled with opacity + tooltip (existing CalendarViewToggle behavior preserved). Default tab for logged-out users is 'winners'.",
    "steps_to_verify": [
      "Logged out: navigate to /?view=gallery — page loads, defaults to winners tab",
      "Logged out: winners tab shows winner data",
      "Logged out: wall tab shows wall content",
      "Logged out: my-submissions tab button is disabled (opacity-50, tooltip explains login required)",
      "Logged out: friends tab button is disabled (opacity-50, tooltip explains login required)"
    ],
    "passes": false
  },
  {
    "id": "GALLERY-010",
    "category": "Cleanup",
    "description": "Delete Calendar.tsx modal component. Remove showCalendar state and Calendar modal rendering from App.tsx. Remove Calendar import and its FollowsProvider wrapper. Sub-components in Calendar/ folder remain.",
    "steps_to_verify": [
      "src/components/Calendar/Calendar.tsx no longer exists",
      "App.tsx has no showCalendar state",
      "App.tsx has no Calendar modal rendering or FollowsProvider wrapper for it",
      "Sub-components (CalendarGrid, CalendarDayCell, CalendarViewToggle, etc.) still exist in Calendar/ folder",
      "No remaining imports of Calendar.tsx anywhere in the codebase"
    ],
    "passes": false
  },
  {
    "id": "GALLERY-011",
    "category": "Cleanup",
    "description": "Remove onOpenCalendar prop from Toolbar interface and from App.tsx Toolbar usage",
    "steps_to_verify": [
      "Toolbar interface has no onOpenCalendar prop",
      "App.tsx does not pass onOpenCalendar to Toolbar",
      "No TypeScript errors related to removed prop"
    ],
    "passes": false
  },
  {
    "id": "GALLERY-012",
    "category": "Navigation",
    "description": "UserProfilePage submission click uses same-tab navigation (window.location.href) instead of new tab (window.open)",
    "steps_to_verify": [
      "On UserProfilePage, click a submission thumbnail → navigates in same tab (not a new tab)",
      "URL changes to ?view=submission&date=...&user=..."
    ],
    "passes": false
  },
  {
    "id": "GALLERY-013",
    "category": "Navigation",
    "description": "WinnersDayPage submission click (handleViewSubmission, lines 30-37) uses same-tab navigation (window.location.href) instead of new tab (window.open). Same fix as GALLERY-012 for consistency.",
    "steps_to_verify": [
      "On WinnersDayPage, click 'View' on a submission → navigates in same tab (not a new tab)",
      "Browser back from submission returns to WinnersDayPage"
    ],
    "passes": false
  },
  {
    "id": "GALLERY-014",
    "category": "App Routing",
    "description": "GalleryPage is wrapped in <FollowsProvider> in App.tsx (same pattern as UserProfilePage, FriendsFeedPage, SubmissionDetailPage). Required because FriendsFeedContent in the Friends tab needs follow data.",
    "steps_to_verify": [
      "Friends tab in gallery loads and displays friend submissions (follow data available)",
      "GalleryPage is wrapped in FollowsProvider in App.tsx"
    ],
    "passes": true
  }
]
