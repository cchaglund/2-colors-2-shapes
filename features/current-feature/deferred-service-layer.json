[
  {
    "id": "SERVICE-001",
    "category": "architecture",
    "description": "Create src/services/ directory with domain-specific Supabase query files: submissions.ts, profiles.ts, rankings.ts",
    "stepsToVerify": [
      "Directory src/services/ exists",
      "File src/services/submissions.ts exists with submission-related Supabase queries",
      "File src/services/profiles.ts exists with profile-related Supabase queries",
      "File src/services/rankings.ts exists with ranking-related Supabase queries",
      "Each service file imports supabase client from lib/supabase.ts"
    ],
    "passes": false
  },
  {
    "id": "SERVICE-002",
    "category": "architecture",
    "description": "Create additional service files for remaining Supabase domains: challenges.ts, voting.ts, friends.ts, auth.ts",
    "stepsToVerify": [
      "File src/services/challenges.ts exists with challenge-related queries",
      "File src/services/voting.ts exists with voting-related queries",
      "File src/services/friends.ts exists with friends/follows-related queries",
      "File src/services/auth.ts exists with auth-related queries"
    ],
    "passes": false
  },
  {
    "id": "SERVICE-003",
    "category": "architecture",
    "description": "Refactor hooks to use service layer instead of importing supabase client directly",
    "stepsToVerify": [
      "useSubmissions.ts calls services/submissions.ts instead of using supabase directly",
      "useProfile.ts calls services/profiles.ts instead of using supabase directly",
      "useRanking.ts calls services/rankings.ts instead of using supabase directly",
      "useDailyChallenge.ts calls services/challenges.ts instead of using supabase directly",
      "useVoting.ts calls services/voting.ts instead of using supabase directly"
    ],
    "passes": false
  },
  {
    "id": "SERVICE-004",
    "category": "architecture",
    "description": "Refactor remaining hooks and components to use service layer: useFriendsFeed, useAuth, useLikes, useWallOfTheDay, useWinnerAnnouncement, useKeyboardSettings, useAdmin, useUserProfile, useSubmissionDetail, useSaveSubmission",
    "stepsToVerify": [
      "No hook file directly imports from lib/supabase.ts (except service files themselves)",
      "All Supabase queries are centralized in src/services/ files",
      "All data fetching still works correctly"
    ],
    "passes": false
  },
  {
    "id": "SERVICE-005",
    "category": "architecture",
    "description": "Refactor components that directly use supabase (App.tsx, GalleryPage.tsx, FriendsFeedContent.tsx, WallContent.tsx, ColorTester.tsx, UserSearchBar.tsx, FollowsContext.tsx) to use service layer",
    "stepsToVerify": [
      "No component file directly imports from lib/supabase.ts",
      "Components call service functions or hooks instead",
      "Only src/services/*.ts and src/lib/supabase.ts contain direct supabase usage"
    ],
    "passes": false
  }
]
