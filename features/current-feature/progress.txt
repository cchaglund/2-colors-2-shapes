## REFACTOR-001 — Create shared <SVGShape> component
- Created src/components/SVGShape.tsx
- Props: type, size, x, y, rotation, flipX, flipY, color, style (optional)
- Handles all 4 SVG element types: ellipse, rect, polygon, path
- Transform logic identical to ShapeElement/SubmissionThumbnail/SubmissionCanvas
- Typecheck: pass. Tests: 102 pass. Lint: clean (pre-existing error in useCalendarChallenges.ts unrelated).
- Note: npm install requires sandbox workaround (see installing-packages.md)
- Next: REFACTOR-002/003/004 to replace inline rendering with <SVGShape> in consumers

## REFACTOR-002 — Refactor ShapeElement.tsx to use SVGShape
- Added `dataShapeId` prop to SVGShape for DOM identification (data-shape-id attribute)
- ShapeElement now delegates entirely to SVGShape, passing shape props + cursor style + dataShapeId
- Removed getShapeSVGData import and all inline transform/render logic from ShapeElement
- ShapeElement reduced from 41 to 28 lines
- Files changed: src/components/SVGShape.tsx, src/components/ShapeElement.tsx
- Typecheck: pass. Tests: 102 pass. Lint: pre-existing error only.
- Next: REFACTOR-003/004 for SubmissionThumbnail/SubmissionCanvas

## REFACTOR-003 — Refactor SubmissionThumbnail.tsx to use SVGShape
- Replaced inline getShapeSVGData + transform + conditional element rendering with <SVGShape>
- Removed getShapeSVGData import, replaced with SVGShape import
- Shape rendering block reduced from 17 lines to 12 lines
- Files changed: src/components/SubmissionThumbnail.tsx
- Typecheck: pass. Tests: 102 pass. Lint: pre-existing error only.
- Next: REFACTOR-004 for SubmissionCanvas

## REFACTOR-004 — Refactor SubmissionCanvas.tsx to use SVGShape
- Replaced getShapeSVGData import + inline transform/conditional rendering with SVGShape
- Shape map block reduced from 17 lines to 12 lines
- Files changed: src/components/submission/SubmissionCanvas.tsx
- Typecheck: pass. Tests: 102 pass. Lint: pre-existing error only.
- Next: REFACTOR-005 (ShapeIcon) or REFACTOR-008 (RANK_COLORS) — phase 1 remaining items

## REFACTOR-005 — Create shared ShapeIcon component
- Created src/components/ShapeIcon.tsx
- Props: type (ShapeType), size (optional, default 24)
- Uses getShapeSVGData() viewBox dimensions for correct aspect ratios
- Renders with fill="currentColor" for inheriting parent text color
- Files changed: src/components/ShapeIcon.tsx
- Typecheck: pass. Tests: 102 pass. Lint: pre-existing error only.
- Next: REFACTOR-006/007 to replace local icons in Toolbar/WelcomeModal

## REFACTOR-006 — Refactor Toolbar.tsx to use shared ShapeIcon
- Removed local ShapePreviewIcon function (lines 14-24)
- Replaced with import of shared ShapeIcon from ./ShapeIcon
- Removed unused getShapeSVGData and ShapeType imports
- Files changed: src/components/Toolbar.tsx
- Typecheck: pass. Tests: 102 pass. Lint: pre-existing error only.
- Next: REFACTOR-007 (WelcomeModal ShapeIcon) or REFACTOR-008 (RANK_COLORS)

## REFACTOR-007 — Refactor WelcomeModal.tsx to use shared ShapeIcon
- Removed local ShapeIcon function (lines 10-20), replaced with import of shared ShapeIcon
- Removed unused getShapeSVGData import
- Local version had loose `type: string` typing with `as never` cast; shared version uses proper ShapeType
- Files changed: src/components/modals/WelcomeModal.tsx
- Typecheck: pass. Tests: 102 pass. Lint: pre-existing error only.
- Next: REFACTOR-008 (RANK_COLORS constant) then REFACTOR-009/010/011 consumers

## REFACTOR-008 — Create RANK_COLORS constant
- Created src/constants/rankColors.ts exporting RANK_COLORS: Record<1|2|3, string>
- Gold=#FFD700, Silver=#D1D5DC, Bronze=#CE8946
- Files changed: src/constants/rankColors.ts
- Typecheck: pass. Tests: 102 pass. Lint: pre-existing error only.
- Next: REFACTOR-009/010/011 to replace hardcoded hex values in TrophyBadge/WinnerCard/CalendarCell
